/*
CXM module
used in 'who we are' page
ACF Pro flexible content layout: 'cxm'
/blocks/common/modules/cxm.php
/source/js/default.js calls BuggerScroller in /source/js/classes.js
*/

.cxmv3{
	/* position sticky will not work if overflow is set */
	overflow:unset;
	background-color:$body-copy;
	
	min-height:500vh;
	color:#fff;

	a.scrolldown{
		bottom:0px;
	}
	.stickyBox{
		position:sticky;
		box-sizing:border-box;
		top:0;
		z-index:1;
		width:100%;
		min-height:100vh;
		display:flex;
		justify-content:center;
		align-items:start;

		h2.cxmtitle{
			color:#fff;
			text-transform:uppercase;
			font-family: 'IBM Plex Mono', monospace;
			font-size:13px;
			line-height:150%;
			font-weight:400;
			letter-spacing:2.44px;
			padding-top:3.4rem;
			padding-bottom:0.6rem;
			margin-bottom:2rem;
			position:relative;
			display:inline-block;
			&:after{
				content:' ';
				height:1px;
				width:2000px;
				position:absolute;
				right:0px;
				bottom:0px;
				background-color:$pink;
			}
		}

		.introCopy{
			width:100%;
			position:relative;
			z-index:2;
			p{
				font-size:20px;
				line-height:120%;
				font-weight:400;

			}
		}
	}

	.phases{
		width:100%;

		&:after{
			content: ' ';
			clear:both;
			float:none;
			display:block;
		}
	}
	.cbitem{
		width:100%;
		display:inline-block;
		float:left;
		position:relative;
		z-index:1;
		margin-right:-100%;
		opacity:0;
		&:nth-child(1){
			z-index:2;
		}
		&:nth-child(2){
			z-index:3;
		}
		&:nth-child(3){
			z-index:4;
		}

		h3.gradient{
			background: linear-gradient(137.81deg, #FE00FF 0%, #5800FF 50%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent; 
			font-size:36px;
			line-height:47px;
			display:block;
			font-weight:700;
			text-transform:uppercase;
		}
		h3{
			font-size:1.2rem;
			line-height:140%;
			display:block;
			font-weight:400;
		}
		h4,p{
			color:#fff;
		}
		h4{
			font-size:20px;
			line-height:120%;
			margin:0 0 0.75rem 0;
		}
		p{
			font-size:14px;
			line-height:120%;
			font-weight:400;
		}

		@media screen and (min-width:768px) {
			&{
				h3.gradient{
					font-size:42px;
					line-height:47px;
					margin:0 0 0.5rem 0;
				}
				h4{
					font-size:24px;
					line-height:34px;
				}
				p{
					font-size:16px;
					line-height:24px;
				}
			}
		}

		.pages{
			overflow:hidden;
			position:relative;
			&:after{
				content: ' ';
				display:block;
				clear:both;
				float:none;
			}

			.page{
				width:100%;
				position:relative;
				left:-100%;
				margin-right:-100%;
				display:inline-block;
				float:left;
				-webkit-backface-visibility: hidden;
				backface-visibility: hidden;

				&.active{
					left:0%;
				}
			}
			ul{
				list-style-type:none;
				padding-left:0;
				clear:both;
				li{
					display:inline-block;
					width:12px;
					height:12px;
					background-color:#fff;
					border-radius:12px;
					cursor:pointer;
					span{
						text-indent:-99999em;
						overflow:hidden;
						display:block;
					}
					&.active{
						box-shadow: inset 0 0 6px #0d0127;
					}
				}
				&:after{
					content: ' ';
					display:block;
					clear:both;
					float:none;
				}

			}
		}
	}

	figure{

		width:100%;
		padding-top:86%;
		overflow:hidden;
		position:relative;
		div.lst-cxm{
			width:100%;
			position:absolute;
			left:0px;
			top:0px;
		}
		margin-left:auto;
		margin-right:auto;
		box-sizing:border-box;
		position:relative;
		z-index:1;
		.lst{
			display:block;
		}
	}
}

/* mobile landscape */
@media screen and (max-width:1200px) and (max-height:500px) {
	.cxmv3{
	}
}

@media screen and (min-width:320px) {
	.cxmv3{
		.stickyBox{
			h2.cxmtitle{
				padding-top: 2rem;
				padding-bottom: 0.6rem;
				margin-bottom: 1rem;
			}
			.introCopy{
				p{
					font-size: 16px;
				}
			}
		}

		figure{
			width:60%;
			margin-top:-30px;
			margin-bottom:-30px;
		}
	}
}

// iphone X
@media screen and (min-width:374px) {
	.cxmv3{
		figure{
			div.lst-cxm{
				svg{
					width:118% !important;
					height:auto !important;
					transform:translate(-8%,0) !important;
				}
			}
		}
		.stickyBox{
			h2.cxmtitle{
				padding-top:3.4rem;
				padding-bottom:0.6rem;
				margin-bottom:2rem;
			}
			.introCopy{
				p{
					font-size: 20px;
				}
			}
		}

		.cbitem{
			h3{
				font-size:1.2rem;
				line-height:140%;
				display:block;
				font-weight:400;
			}
		}

		figure{
			width:70%;
			margin-top:-40px;
			margin-bottom:-40px;
		}
	}
}

// iphone 12 390 x 844
@media screen and (min-width:390px) {
	.cxmv3{
	}
}

// iphone 12 Pro Max 428 x 926
@media screen and (min-width:428px) {
	.cxmv3{
	}
}

@media screen and (min-width:480px) {
	.cxmv3{
		figure{
			margin-top:-50px;
			margin-bottom:-50px;
		}
	}
}
@media screen and (min-width:540px) {
	.cxmv3{
		figure{
			margin-top:-50px;
			margin-bottom:-50px;
		}
	}
}
@media screen and (min-width:640px) {
	.cxmv3{
		figure{
			margin-top:-50px;
			margin-bottom:-50px;
		}
	}
}
@media screen and (min-width:768px) {
	.cxmv3{
		figure{
	 		margin-top:-50px;
			max-width:800px;
	 	}
	}
}

/* desktop */
@media screen and (min-width:992px) {
	.cxmv3{
		.introCopy{
			width:75%;
			p{
				font-size:30px;
			}
		}
		.stickyBox{
			align-items:center;
		}
		.fullheight{
			height:100vh;
		}
		figure{
			width:50%;
			padding-top:62%;
			margin-top:0;
			margin-bottom:0;
			div.lst-cxm{
				top:10%;
			}
		}
		.phases{
			position:absolute;
			top:200px;
			left:50%;
			transform:translate3d(-50%,0,0);
			width:930px;
			z-index:3;
    	}
		.cbitem{
			position:absolute;
			width:33.3%;
			left:0px;
			right:auto;
			top:0px;
			margin-right:0%;
			&#cb-d{
				left:auto;
				right:0%;
			}
		}
	}
}

@media screen and (min-width:1200px) {
	.cxmv3{
		figure{
			width:50%;
			padding-top:50%;
			margin-top:0;
			margin-bottom:0;
			div.lst-cxm{
				top:0%;
			}
		}
		.phases{
			width:1110px;
			top:210px;
		}
	}
}

@media screen and (min-width:1400px) {
	.cxmv3{
	}
}

/*
@media screen and (max-aspect-ratio:992/780) {
	.cxmv3{
		figure{
			max-width:380px;
			padding-top:52%;
			width:40%;
			margin:-5% auto -12% auto;
		}
	}
}
*/

// eeduce height of graphic to fit mobile landscape view 
@media screen and (min-aspect-ratio:1200/800) {
	.cxmv3{
		.fullheight{
			min-height:100vh;
			height:auto;
		}
		figure{
			margin-bottom:4rem;
		}
		/*
		figure{
			width:26%;
			padding-top:26%;
			margin-bottom:4rem;
			padding-top:100%;
		}
		.scrolldown{
			display:none;
		}
		.fullheight{
			display:flex;
			flex-wrap:wrap;
			align-content:flex-start;
			min-height:100vh;

			.introCpy{
				width:100%;
				min-width:100%;flex-basis:100%;
			}
		}
		.phases{
			width:80%;
			padding-left:5%;
		}
		*/
	}
}