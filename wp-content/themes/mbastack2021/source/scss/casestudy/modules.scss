/* case study modules */
@import "modules/banner";
@import "modules/intro";

$fwv_aspect_ratio:57%;
$two_column_aspect_ratio:56%;

// [class*="col-"]{}

div.caseStudyBG{
	background-image:url('../img/grid-mobile.png') !important;
	background-repeat:repeat !important;
	background-size:initial !important;
	@media screen and (min-width:992px) {
		&{
			background-color:transparent !important;
			background-image:none !important;
		}	
	}
}

section.case-study-single_column_text,
section.case-study-two_column_text,
section.case-study-fullwidth_video,
section.case-study-fullwidth_image,
section.case-study-two_column_media,
section.case-study-image_carousel,
section.case-study-share,
section.case-study-text-and-image,
section.case-study-awards,
section.case-study-single_column_text{

	// padding-top:2rem;
	// padding-bottom:2rem;
	padding-top:0rem;
	padding-bottom:0rem;
	min-height:initial;

	@media screen and (min-width:992px){
		&{
			padding-top:2rem;
			padding-bottom:0rem;
		}
	}
}

section.case-study-fullwidth_video{
	.videoBox{
		position:relative;
		width:100%;
		margin-bottom:1rem;
		.background{
			background-color:transparent;
			figure{
				position:absolute;
				left:0px;
				top:0px;
				width:100%;
				height:100%;
				opacity:1;
				transition:opacity 0.3s ease;
				img{
					transform:translate3d( -50%, -50%, 0 );
				}
			}
			.videoWrapper{
				opacity:0;
				transition:opacity 0.3s ease;
				&.scaleTowidth{
				}
				&.scaleToheight{
					min-height:500px;
					width:auto;
					display:flex;
					justify-content:center;
					.pr,.prx{
						iframe{
							width:100%;
						}
						video{
							width:auto;
							position:relative;
							margin-left:auto;
							margin-right:auto;
							display:block;
						}
					}

				}
				
				position:relative;
				.pr,.prx{
					position:relative;
					left:0px;
					top:0px;
					transform:initial;
					iframe{
						width:100%;
						transform:scale(1.0,1.0);
					}
					video{
						width:100%;
					}
				}
			}

			&.videoLoaded{
				figure{
					opacity:0;
				}
				.videoWrapper{
					opacity:1;
				}
			}
		}
	}
	p{
		font-size:16px;
		line-height:120%;
		color:$body-copy;
		font-weight:300;
	}
}

section.case-study-fullwidth_image{
	figure{
		amargin:0 0 1rem 0;
		padding:0;
		display:block;
		img{
			width:100%;
			height:auto;
		}
	}
	p{
		font-size:16px;
		line-height:120%;
		color:$body-copy;
		font-weight:300;
	}
}

section.case-study-single_column_text{
	.main{
		h3{
			font-size:20px;
			line-height:140%;
			font-weight:400;
		}
		p,ul{
			font-size:16px;
			line-height:160%;
			font-weight:300;
		}
		h4{
			font-size:18px;
			font-weight:400;
			margin-bottom:1rem;
		}

		p + h3{
			// margin-top:4rem;
		}
	}
@media screen and (min-width:992px){
	&{
		.main{
			h2{
				font-size:14px;
			}
			h3{
				font-size:28px;
			}
			p{
				font-size:18px;
			}
		}
		&.image{
			.text{
				order:2;
			}
			.image{
				order:1;
			}
		}
	}
}
}

section.case-study-two_column_text{
	&.black{
		h2{
			color:$purple;
		}
		.narrow,.wide{
			color:$body-copy;
			h2.title{
				color:$purple;		
			}
		}
		
	}
	&.white{
		h2{
			color:$pink;
		}
		.narrow,.wide{
			color:#fff;
			h2.title{
				color:$pink;
			}
		}
	}
	h2{
		text-transform:uppercase;
		font-family: 'IBM Plex Mono', monospace;
		font-size:10px;
		line-height:150%;
		font-weight:400;
		letter-spacing:2.44px;
	}
	.narrow,.wide{
		h2{
			color:#fff;
			&.title{
				text-transform:uppercase;
				font-family: 'IBM Plex Mono', monospace;
				font-size:10px;
				line-height:150%;
				font-weight:400;
				letter-spacing:2.44px;
			}
		}
		h3{
			font-size:20px;
			line-height:140%;
			font-weight:400;
		}
		p{
			font-size:16px;
			line-height:160%;
			font-weight:300;
		}
	}
}

@media screen and (min-width:992px) {
	section.case-study-two_column_text{
		&.wide{
			.wide{
				order:1;
			}
			.narrow{
				order:2;
			}
		}
		&.narrow{
			.wide{
				order:2;
			}
			.narrow{
				order:1;
			}
		}
		// &.equal{}
		// &.inequal{}
		h2{
			font-size:14px;
		}
		.narrow,.wide{
			h2.title{
				font-size:14px;		
			}
			h3{
				font-size:28px;
			}
			p{
				font-size:18px;
			}
		}
	}
}

section.case-study-text-and-image{
	&.black{
		.text{
			h2{
				color:$purple;
			}
			color:$body-copy;
		}
	}
	&.white{
		.text{
			h2{
				color:$pink;
			}
			color:#fff;
		}
	}
	.text{
		h2{
			color:$purple;
			text-transform:uppercase;
			font-family: 'IBM Plex Mono', monospace;
			font-size:10px;
			line-height:150%;
			font-weight:400;
			letter-spacing:2.44px;
		}
		h3{
			font-size:20px;
			line-height:140%;
			font-weight:400;
		}
		p{
			font-size:16px;
			line-height:160%;
			font-weight:300;
		}
	}
	.media{
		.background{
			margin-bottom:1rem;
			figure{
				margin-bottom:0px;
			}
		}
		figure{
			width:100%;
			margin-bottom:1rem;
			img{
				width:100%;
				height:auto;
			}
		}
		audio{
			margin-bottom:1rem;
		}
		&.multi-image{
			display:block;
			.one,
			.half,
			.third,
			.quarter{
				width:100%;
			}
		}
		.audioPlayer{
			.headphones{
				width:33.33%;
				order:2;
			}
			.widget{
				order:1;
				width:66.66%;
				display:flex;
				align-items:center;
			}
		}
		.background{
			figure{
				width:100%;
				img{
					width:100%;
					height:auto;
				}
			}
			.videoWrapper{
				opacity:1;
				position:static;
				.pr{
					position:static;
					transform:initial;
					
					// deal with safari/vimeo iframe weirdness
					iframe{
						object-fit:unset;
						transform:scale(1.0,1.0);
					}
					video{}
				}
			}
		}
	}
}

@media screen and (min-width:768px){
	section.case-study-text-and-image{
		.media{
			&.multi-image{
				display:flex;
				flex-wrap:no-wrap;
				.one,
				.half,
				.third,
				.quarter{
					box-sizing:border-box;
					padding-left:10px;
				}
				.one{
					width:100%;
				}
				.half{
					width:50%;
				}
				.third{
					width:33.3%;
				}
				.quarter{
					width:25%;
				}
			}
		}
	}
}
@media screen and (min-width:992px){
	section.case-study-text-and-image{
		.text{
			h2{
				font-size:14px;
			}
			h3{
				font-size:28px;
			}
			p{
				font-size:18px;
			}
		}
		.media{

			figure{
				margin-bottom:0;
			}
			&.audio{
				.audioPlayer{
					.desktopOnly{
						order:2;
					}
					audio{
						margin-bottom:0rem;
					}
				}
			}
			&.multi-image{
			}
		}
		&.image{
			.text{
				order:2;
			}
			.image{
				order:1;
			}
		}
	}
}

section.case-study-two_column_media{
	.background{
		&.videoLoaded{
			figure{display:none;}	
		}
	}
	&.noOBjectFitCover{

	}
	&.naturalScale{
		&.foldVideo{
			.background{
				.pr{
					margin:0 auto;
					video{
						width:96%;
					}
				}
			}
		}
		.row{
			align-items: center;
		}
		figure{
			padding-top: 0;
			img{
				position: relative;
				left: 0px;
				top: 0px;
				transform: translate3d(0,0,0);
				width: 100%;
			}
		}
		.background{
			.videoWrapper{
				padding-top: 0px;
				margin-bottom: 0;
			}
			figure{
				img{}
			}
			.pr{
				position: relative;
				left: 0px;
				top: 0px;
				transform: translate3d(0,0,0);
				iframe,video{
					position: relative;
					left: 0px;
					top: 0px;
					width: 100%;
					height: auto;
				}
			}
		}
	}
	figure{
		position:relative;
		width:100%;
		overflow:hidden;
		margin:0 0 1rem 0;
		background-color:#000;
		padding-top:$two_column_aspect_ratio;
		img{
			position:absolute;
			left:50%;
			top:50%;
			transform:translate(-50%,-50%);
			object-fit:cover;
			width:100%;
			height:100%;

		}
	}
	.videoWrapper{
		position:relative;
		width:100%;
		padding-top:$two_column_aspect_ratio;
		// margin-bottom:1rem;

		.vbTarget,
		a.videoPlayButton{
			position:absolute;
			left:0px;
			top:0px;
			width:100%;
			height:100%;
		}
		.vbTarget{
			z-index:1;
			background-color:#000;
			iframe{
				width:100%;
				height:100%;
			}
		}
		a.videoPlayButton{
			display:none;
			z-index:2;
			opacity:0.5;
			span{
				display:block;
				text-indent:-9999em;
				overflow:hidden;
			}
		}
	}
	p{
		font-size:16px;
		line-height:120%;
		color:$body-copy;
		font-weight:300;
	}
}

@media screen and (min-width:992px){
	section.case-study-two_column_media{
	}
}

section.case-study-mismatched_media{
	.mobile-column{}
	.mobile-row{}

	.wide,.narrow{
		.background{
			margin-bottom:2rem;
			figure{
				margin-bottom:0rem;
			}

			.videoWrapper{
				opacity:1;
				position:static;
				.pr{
					position:static;
					transform:initial;
					.iframe{}
					video{}
				}
			}
		}
		figure{
			width:100%;
			margin-bottom:1rem;
			img{
				width:100%;
				height:auto;
			}
		}
	}
}

@media screen and (min-width:992px) {
	section.case-study-mismatched_media{
		&.wide{
			.wide{
				order:1;
			}
			.narrow{
				order:2;
			}
		}
		&.narrow{
			.wide{
				order:2;
			}
			.narrow{
				order:1;
			}
		}
		.wide,.narrow{
			.background{
			}
			figure{
				width:100%;
				margin-bottom:0rem;
				img{
					width:100%;
					height:auto;
				}
			}
		}
	}
}

section.case-study-media_carousel{
	.mcfwop{
		transition:transform 0.3s ease;
		transform:scale(0,0);
		&.ready{
			transform:scale(1.0, 1.0);
		}
		.op{}
	}
	.mcSS{
		.slick-list{
			padding-left:5%;
			padding-right:15%;
		}
	}
	.item{
		box-sizing:border-box;
		padding:0 10px;
	}
	.background{
		position:relative;
		padding-top:75%;
		figure{
			position:absolute;
			left:0px;
			top:0px;
			height:100%;
			img{
		        transform: translate(-50%,-50%);
		        transition: all 0.3s ease;
			}
		}
		.csLink{
			position:absolute;
			left:0px;
			top:0px;
			width:100%;
			height:100%;
			z-index:25;
			display:block;
			background-color:rgba(255,0,0,0);
		}
	}
}

// 20px wider to allow for item padding
@media screen and (min-width:576px) {
	section.case-study-media_carousel{
		.mcSS{
			.slick-list{
				padding-left:calc((100% - 550px) / 2);
				padding-right:calc((100% - 550px) / 2);
				padding-right:calc((100% - 412px) / 2);
			}
		}
	}
}

@media screen and (min-width:768px) {
	section.case-study-media_carousel{
		.mcSS{
			.slick-list{
				padding-left:calc((100% - 730px) / 2);
				padding-right:calc((100% - 730px) / 2);
				padding-right:calc((100% - 547px) / 2);
			}
		}
	}
	
}

@media screen and (min-width:992px) {
	section.case-study-media_carousel{
		.mcSS{
			.slick-list{
				padding-left:calc((100% - 970px) / 2);
				padding-right:calc((100% - 970px) / 2);
				padding-right:calc((100% - 727px) / 2);
			}
		}
		.background{
			padding-top:50%;
		}
		.item{
			padding:0 20px;
		}
	}
}

@media screen and (min-width:1200px) {
	section.case-study-media_carousel{
		.mcSS{
			.slick-list{
				padding-left:calc((100% - 1150px) / 2);
				padding-right:calc((100% - 1150px) / 2);
				padding-right:calc((100% - 862px) / 2);
			}
		}
	}
}

@media screen and (min-width:1400px) {
	section.case-study-media_carousel{
		.mcSS{
			.slick-list{
				padding-left:calc((100% - 1330px) / 2);
				padding-right:calc((100% - 1330px) / 2);
				padding-right:calc((100% - 998px) / 2);
			}
		}
	}
}


@media screen and (min-width:992px){
	section.case-study-media_carousel{
	}
}

section.case-study-triple_staggered_images{
	[class*="col-"]{
		display: flex;
		justify-content: center;
		figure{
			width: 75%;
			img{
				width: 100%;
			}
		}
		&:nth-child(3n + 1){ padding-top:0rem;  }
		&:nth-child(3n + 2){ padding-top:4rem; }
		&:nth-child(3n){ padding-top:8rem; }
	}
	&.right{
		[class*="col-"]{
			&:nth-child(3n + 1){ padding-top:8rem;  }
			&:nth-child(3n + 2){ padding-top:4rem; }
			&:nth-child(3n){  padding-top:0rem; }
		}
	}
}

@media screen and (min-width:992px){
}

section.case-study-image_carousel{
	.icfwop{
		transition:transform 0.3s ease;
		transform:scale(0,0);
		&.ready{
			transform:scale(1.0, 1.0);
		}
	}
	.imageCarouselSlickSlider{
		padding-left: 50px;
		padding-right: 50px;
		.slick-arrow{
			border: 0;
			display: block;
			text-indent: -9999em;
			overflow: hidden;
			width: 44px;
			height: 128px;
			position: absolute;
			top: 50%;
			transform: translate3d(0,-50%,0);
			z-index: 5;
			background-position: center;
			background-repeat: no-repeat;
			background-color: transparent;
			background-size: auto 64px;
			&.slick-prev{
				left: 0px;
				right: auto;
				background-image: url('../img/carousel-left-white.png');
			}
			&.slick-next{
				left: auto;
				right: 0px;
				background-image: url('../img/carousel-right-white.png');
			}
		}
		.item{
			figure{
				width: 100%;
				img{
					width: 100%;
					height: 100%;
					object-fit: contain;
					max-height: 500px;
				}
			}
		}
	}
}

@media screen and (min-width:992px){
	section.case-study-image_carousel{
		.imageCarouselSlickSlider{
			padding-left: 64px;
			padding-right: 64px;
			.slick-arrow{
				background-size: auto 128px;
				&.slick-prev{
					left: 0px;
				}
				&.slick-next{
					right: 0px;
				}
			}
			.slick-list{
				padding-left:5rem;
				padding-right:5rem;
			}
		}
	}
}

section.case-study-awards{
	padding-top:2rem;
	background-color:$body-copy;
	color:#fff;
	box-sizing:border-box;
	.header{
		h2{
			color:$pink;
			text-transform:uppercase;
			font-family: 'IBM Plex Mono', monospace;
			font-size:10px;
			line-height:150%;
			font-weight:400;
			letter-spacing:2.44px;
			margin-bottom:1rem;
		}
	}

	.intro{
		padding-right:0;
		h3,p{
			line-height:160%;
		}
		h3{
			font-size:20px;
			font-weight:400;
		}
		p{
			font-size:16px;
			font-weight:300;
		}
	}
	
	.point{
		padding-bottom:2rem;
		h4,p{
			margin:0;
		}
		h4{
			line-height:140%;
			font-size:36px;
			font-weight:600;
		 	background: linear-gradient(137.81deg, #FE00FF 0%, #5800FF 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent; 
		}
		p{
			font-size:14px;
			font-weight:300;
			line-height:160%;
		}
	}
}

@media screen and (min-width:992px){
	section.case-study-awards{
		.header{
			h2{
				font-size:12px;
			}
		}
		.intro{
			padding-right:16%;
			h3{
				font-size:28px;
			}
			p{
				font-size:18px;
			}
		}
		.point{
			h4{
				font-size:52px;
			}
			p{
				font-size:18px;
			}
		}
	}
}
@media screen and (min-width:1100px){
	section.case-study-awards{
		.point{
			h4{
				font-size:54px;
			}
		}
	}
}
@media screen and (min-width:1200px){
	section.case-study-awards{
		.point{
			h4{
				font-size:64px;
			}
			p{
				font-size:18px;
			}
		}
	}
}
@media screen and (min-width:1400px){
	section.case-study-awards{
		.point{
			h4{
				font-size:74px;
			}
			p{
				font-size:18px;
			}
		}
	}
}

section.case-study-share{
	background-color:$body-copy;
	color:#fff;
	h2{
		color:#fff;
		font-size:15px;
	}
	ul{
		list-style-type:none;
		padding-left:0;
		margin:0;
		width:auto;
		display:flex;
		justify-content:flex-start;
		li{
			display:ineline-block;
			padding:0 0.5rem 0 0;
			a{

			}
		}
	}
	svg{
		width:40px;
		height:auto;
		path{
			fill:#fff;
		}
	}
}

@media screen and (min-width:992px){
	section.case-study-share{
		.dflex{
			display:flex;
			align-items:flex-end;
		}
		h2{
			font-size:24px;
			margin-right:1rem;
			display:inline-block;
			position:relative;
			&:before{
				content:' ';
				height:1px;
				width:2000px;
				position:absolute;
				right:calc(100% + 1rem);
				top:50%;
				background-color:$pink;
			}
		}
		ul{
			justify-content:center;
		}
	}
}

section.case-study-text-and-image{
		
}

// add top padding to single column text block which follows awards block
section.case-study-awards + section.case-study-single_column_text,
section.case-study-awards + style + section.case-study-single_column_text{
}

section.audio_player{
	h2{
	    font-size: 20px;
	    line-height: 140%;
	    font-weight: 400;
    }
	p{
	    font-size: 16px;
	    line-height: 160%;
	    font-weight: 300;
	}
	figure{
		width:20%;
		margin:0 auto 2rem auto;
		img{
			width:100%;
		}
	}
	@media screen and (min-width:992px)	 {
		&{
			figure{
				margin-bottom:0;
				margin-right:0;
			}
			h2{
			    font-size: 28px;
			}
			p{
			    font-size: 18px;
			}
		}
	}
}

